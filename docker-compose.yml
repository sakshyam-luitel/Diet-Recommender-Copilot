version: '3.8'\n\nservices:\n  db:\n    image: postgres:latest\n    restart: always\n    environment:\n      POSTGRES_DB: ${POSTGRES_DB}\n      POSTGRES_USER: ${POSTGRES_USER}\n      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}\n    ports:\n      - '5432:5432'\n    volumes:\n      - db_data:/var/lib/postgresql/data\n\n  backend:\n    build: ./backend\n    restart: always\n    depends_on:\n      - db\n    ports:\n      - '8000:8000'\n    volumes:\n      - ./backend:/app\n    environment:\n      DATABASE_URL: postgres://$POSTGRES_USER:$POSTGRES_PASSWORD@db:5432/$POSTGRES_DB\n\n  frontend:\n    build: ./frontend\n    restart: always\n    depends_on:\n      - backend\n    ports:\n      - '5173:5173'\n    volumes:\n      - ./frontend:/app\n\nvolumes:\n  db_data: {}\n\networks:\n  default:\n    driver: bridge\n